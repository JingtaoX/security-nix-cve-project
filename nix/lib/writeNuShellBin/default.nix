# An analogue to writeScriptBin but for Nushell rather than Bash scripts.
# copied from: https://github.com/DeterminateSystems/nuenv/blob/main/lib/nuenv.nix#L63
{ nushell, writeTextFile }:
{ name, script, bin ? name }:
let nu = "${nushell}/bin/nu";
in writeTextFile {
  inherit name;
  destination = "/bin/${bin}";
  text = ''
    #!${nu}

    ${script}
  '';
  executable = true;
}
